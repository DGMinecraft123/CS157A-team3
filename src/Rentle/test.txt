<%
            try {
                // Parse currentUserId to ensure it's a valid number
                int currentUserIdInt = Integer.parseInt(currentUserId);
        
                // If the parsing is successful, proceed with adding the item to the cart
                String addToCartQuery = "INSERT INTO cart (UserID, ItemID) VALUES (?, ?)";
                pstmt = con.prepareStatement(addToCartQuery);
                pstmt.setInt(1, currentUserIdInt);
                pstmt.setString(2, currentItemId);
        
                int ri = pstmt.executeUpdate();
                out.println("Item successfully added to cart.");
            } catch (NumberFormatException e) {
                out.println("Invalid user ID.");
            } catch (SQLException e) {
                out.println("Error adding item to cart.");
            }
        %>